(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{131:function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},132:function(e,t,n){var a=n(162);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n(35).default)("5ea2e062",a,!0,{sourceMap:!1})},161:function(e,t,n){"use strict";var a=n(132);n.n(a).a},162:function(e,t,n){var a=n(131);(e.exports=n(34)(!1)).push([e.i,"\n.create-job-page-container[data-v-3160101a] {\n  width: 100vw;\n  min-height: 100vh;\n  padding-top: 50vw;\n  background-image: url("+a(n(163))+");\n  background-size: 100%;\n}\n.input-container[data-v-3160101a] {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n.input-container input[data-v-3160101a] {\n  outline: none;\n  background: transparent;\n  border: 2px solid #000;\n  border-radius: 5px;\n  font-size: 1.5rem;\n  text-indent: 0.5rem;\n}\n.job-categories ul[data-v-3160101a] {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 2rem 0;\n}\n.job[data-v-3160101a] {\n  margin: 0.5rem;\n  width: 25vw;\n  height: 25vw;\n  border-radius: 50%;\n  background-image: url("+a(n(164))+");\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-color: #fff;\n}\n.job.selected[data-v-3160101a] {\n  width: 30vw;\n  height: 30vw;\n}\n.job .job-icon[data-v-3160101a] {\n  width: 100%;\n  margin: 0 auto;\n}\n.job .job-icon img[data-v-3160101a] {\n  display: block;\n  width: 100%;\n}\n.job .job-name[data-v-3160101a] {\n  text-align: center;\n  font-weight: bold;\n  font-size: 0.9rem;\n}\n.button-container[data-v-3160101a] {\n  display: flex;\n  justify-content: center;\n}\n.create-button[data-v-3160101a] {\n  border: 0;\n  outline: none;\n  width: 60vw;\n  height: 13vw;\n  margin: 0 auto;\n  background-image: url("+a(n(165))+");\n  background-size: 100%;\n  background-repeat: no-repeat;\n  background-position: center;\n  text-align: center;\n  font-size: 2rem;\n  color: #fff;\n  border-radius: 10px;\n}\n",""])},163:function(e,t,n){e.exports=n.p+"img/7bca2f3.svg"},164:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMjQ2LjUgMjQ2LjUiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDpub25lO3N0cm9rZS1taXRlcmxpbWl0OjEwO3N0cm9rZS13aWR0aDo1cHg7c3Ryb2tlOnVybCgj5ZCN56ew5pyq6Kit5a6a44Kw44Op44OH44O844K344On44OzXzQxKTt9PC9zdHlsZT48bGluZWFyR3JhZGllbnQgaWQ9IuWQjeensOacquioreWumuOCsOODqeODh+ODvOOCt+ODp+ODs180MSIgeTE9IjEyMy4yNSIgeDI9IjI0Ni41IiB5Mj0iMTIzLjI1IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZTkyZDAwIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZDQwMGMzIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHRpdGxlPueZuuazqOeUu+mdojwvdGl0bGU+PGcgaWQ9IuODrOOCpOODpOODvF8yIiBkYXRhLW5hbWU9IuODrOOCpOODpOODvCAyIj48Y2lyY2xlIGNsYXNzPSJjbHMtMSIgY3g9IjEyMy4yNSIgY3k9IjEyMy4yNSIgcj0iMTIwLjc1Ii8+PC9nPjwvc3ZnPg=="},165:function(e,t,n){e.exports=n.p+"img/761fac8.svg"},166:function(e,t,n){"use strict";n.r(t);n(76),n(36),n(37);var a,o,r=n(3),i=n.n(r),s=n(133),c=n.n(s),u={validate:(o=i()(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,a=null,e.next=4,c.a.get("https://hal-iot.net/api/alive_token/"+n.token).then(function(e){a=!0}).catch(function(e){a=!1});case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)}),data:function(){return{jobIDList:null,userName:"",jobCategory:[],selected:null,currentSelectedJob:null}},mounted:function(){var e=this;this.userName=localStorage.getItem("userName"),c.a.get("https://hal-iot.net/api/job_categorys").then(function(t){e.jobCategory=t.data})},methods:{selectJob:function(e){this.currentSelectedJob=e},registerJob:function(){var e=this,t=this.parseToken();null!=this.userName?null!=this.currentSelectedJob?c.a.post("https://hal-iot.net/api/job/"+t,{name:this.currentSelectedJob.name,user_name:this.userName}).then(function(t){if(""!=e.userName){var n=localStorage.getItem("jobIDList");if(n){var a=n.split(",");a.push(t.data.id),localStorage.setItem("jobIDList",a)}else localStorage.setItem("jobIDList",t.data.id);localStorage.setItem("userName",e.userName),e.load()}else e.danger("ユーザー名が入力されていません")}):this.danger("ジョブが選択されていません"):this.danger("名前が入力されていません")},danger:function(e){this.$toast.open({message:e,type:"is-danger"})},sleepByPromise:function(e){return new Promise(function(t){return setTimeout(t,1e3*e)})},load:(a=i()(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$loading.open({container:this.isFullPage}),e.next=3,this.sleepByPromise(1);case 3:t.close(),this.$router.push("/jobs");case 5:case"end":return e.stop()}},e,this)})),function(){return a.apply(this,arguments)}),showLocalStorage:function(){this.jobIDList=localStorage.getItem("jobIDList")},clearLocalStorage:function(){localStorage.removeItem("jobIDList"),localStorage.removeItem("userName"),localStorage.removeItem("doneIds"),console.log("cleared local storage")},parseToken:function(){return location.pathname.split("/")[2]}}},l=(n(161),n(17)),d=Object(l.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"create-job-page-container"},[n("div",{staticClass:"input-container"},[n("b-field",{attrs:{label:"name"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.userName,expression:"userName"}],attrs:{type:"text"},domProps:{value:e.userName},on:{input:function(t){t.target.composing||(e.userName=t.target.value)}}})])],1),e._v(" "),n("div",{staticClass:"job-categories"},[n("ul",e._l(e.jobCategory,function(t,a){return n("li",{key:a,on:{click:function(n){e.selectJob(t)}}},[n("div",{staticClass:"job",class:{selected:e.currentSelectedJob&&e.currentSelectedJob.name===t.name}},[n("div",{staticClass:"job-icon"},[n("img",{attrs:{src:t.image_icon,alt:""}})]),e._v(" "),n("div",{staticClass:"job-name"},[e._v(e._s(t.display_name))])])])}))]),e._v(" "),n("div",{staticClass:"button-container"},[n("button",{staticClass:"create-button",on:{click:e.registerJob}})])])},[],!1,null,"3160101a",null);d.options.__file="_token.vue";t.default=d.exports}}]);